<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Bài 1</title>
</head>
<body>
<h2>Quản Lý Mảng</h2>
<label for="numInput">Nhập số nguyên:</label>
<input type="number" id="numInput">
<button onclick="themSo()">Thêm</button>
<button onclick="hienThiMang()">Hiển thị mảng</button>
<button onclick="tinhTBCChiaHetCho3()">Trung bình cộng (chia hết cho 3)</button>
<div id="result"></div>

<script>
  let mang = [];

// Thêm phần tử vào mảng
  function themSo() {
    let numInput = document.getElementById("numInput");
    let val = parseInt(numInput.value);

// Điều kiện 50
    if (mang.length >= 50) {
      document.getElementById("result").textContent = "Mảng đã đủ 50 phần tử, không thể thêm!";
      return;
    }

// Kiểm tra
    if (isNaN(val)) {
      document.getElementById("result").textContent = "Vui lòng nhập số hợp lệ!";
      return;
    }

// Thông báo
    mang.push(val);
    document.getElementById("result").textContent = "Đã thêm " + val + " vào mảng.";
    numInput.value = "";
  }

// Hiển thị mảng
  function hienThiMang() {
    if (mang.length === 0) {
      document.getElementById("result").textContent = "Mảng hiện đang trống.";
    } else {
      document.getElementById("result").textContent = "Mảng: " + mang.join(", ");
    }
  }

// Tính trung bình cộng các số chia hết cho 3
  function tinhTBCChiaHetCho3() {
    if (mang.length === 0) {
      document.getElementById("result").textContent = "Mảng trống, không có gì để tính.";
      return;
    }

    let soChia3 = mang.filter(function(num) {
      return num % 3 === 0;
    });

    if (soChia3.length === 0) {
      document.getElementById("result").textContent = "Không có số nào chia hết cho 3 trong mảng.";
      return;
    }

    let tong = 0;
    for (let i = 0; i < soChia3.length; i++) {
      tong += soChia3[i];
    }
    let tbc = tong / soChia3.length;
    document.getElementById("result").textContent = "Các số chia hết cho 3: " + soChia3.join(", ") + "\n" + "Trung bình cộng: " + tbc;
  }
</script>
</body>
</html>
